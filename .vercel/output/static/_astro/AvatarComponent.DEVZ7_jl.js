import{b as I,j as o,P as c,u as b,f as g,a as f}from"./index.DX3bvJUq.js";import{r as n}from"./index.BLKIVO3k.js";var m="Avatar",[_,F]=I(m),[E,p]=_(m),A=n.forwardRef((a,e)=>{const{__scopeAvatar:t,...r}=a,[d,s]=n.useState("idle");return o.jsx(E,{scope:t,imageLoadingStatus:d,onImageLoadingStatusChange:s,children:o.jsx(c.span,{...r,ref:e})})});A.displayName=m;var x="AvatarImage",w=n.forwardRef((a,e)=>{const{__scopeAvatar:t,src:r,onLoadingStatusChange:d=()=>{},...s}=a,i=p(x,t),l=k(r,s.referrerPolicy),u=b(v=>{d(v),i.onImageLoadingStatusChange(v)});return g(()=>{l!=="idle"&&u(l)},[l,u]),l==="loaded"?o.jsx(c.img,{...s,ref:e,src:r}):null});w.displayName=x;var S="AvatarFallback",N=n.forwardRef((a,e)=>{const{__scopeAvatar:t,delayMs:r,...d}=a,s=p(S,t),[i,l]=n.useState(r===void 0);return n.useEffect(()=>{if(r!==void 0){const u=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(u)}},[r]),i&&s.imageLoadingStatus!=="loaded"?o.jsx(c.span,{...d,ref:e}):null});N.displayName=S;function k(a,e){const[t,r]=n.useState("idle");return g(()=>{if(!a){r("error");return}let d=!0;const s=new window.Image,i=l=>()=>{d&&r(l)};return r("loading"),s.onload=i("loaded"),s.onerror=i("error"),s.src=a,e&&(s.referrerPolicy=e),()=>{d=!1}},[a,e]),t}var h=A,j=w,L=N;const y=n.forwardRef(({className:a,...e},t)=>o.jsx(h,{ref:t,className:f("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",a),...e}));y.displayName=h.displayName;const R=n.forwardRef(({className:a,...e},t)=>o.jsx(j,{ref:t,className:f("aspect-square h-full w-full",a),...e}));R.displayName=j.displayName;const C=n.forwardRef(({className:a,...e},t)=>o.jsx(L,{ref:t,className:f("flex h-full w-full items-center justify-center rounded-full bg-muted",a),...e}));C.displayName=L.displayName;const T=({src:a,alt:e,fallbackText:t})=>o.jsxs(y,{className:"w-24 h-24 border",children:[o.jsx(R,{src:a,alt:e}),o.jsx(C,{children:t})]});export{T as AvatarComponent};
